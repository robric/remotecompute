#
#
#     
#     Topology details generated by Ansible
#
#
#

[Hosts Properties]

Hostname            Host_Id
{% for item in groups.kvm_hosts %}
{{'%-19s' | format (item)}} {{'%-20d' | format (hostvars[item].id)}}
{% endfor %}

[Instances Properties]

Instance Name       SSH IP address      Running Host        Console port (telnet)
{% for item in topology.instances %}
{{ '%-19s' | format (item.name) }} 192.168.122.2{{'%02d' | format (item.vm_id)}}     {{ '%-19d' | format (item.host_id) }} 40{{ '%02d' | format (item.vm_id) }}
{% endfor %}

[Interface Connectivity]

Name               Network             VM_name
{% for instance in topology.instances %}
vm-{{ "%02d"|format(instance.vm_id)}}-mgt          {{"%-19s"|format(instance.interfaces.management) }} {{ "%-20s"|format(instance.name) }}
{% endfor %}
{% for instance in topology.instances %}
{% for index,net in instance.interfaces.user.items() %}
vm-{{ "%02d"|format(instance.vm_id)}}-eth-{{ "%02d"|format(index)}}       br-{{"%-16s"|format(net) }} {{ "%-20s"|format(instance.name) }}
{% endfor %}
{% endfor %}

